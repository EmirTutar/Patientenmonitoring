\selectlanguage{german}

\subsection{Sicherheit}
Die Sicherheit des Systems wird durch verschiedene Maßnahmen gewährleistet. Dazu gehören die Implementierung von Fail2Ban zur Verhinderung von Brute-Force-Angriffen, die Nutzung von DDclient zur dynamischen DNS-Aktualisierung und die Konfiguration der Uncomplicated Firewall (UFW) zur Verwaltung von Netzwerkanfragen. Diese Maßnahmen tragen dazu bei, das System vor unbefugtem Zugriff und anderen potenziellen Sicherheitsbedrohungen zu schützen.

\subsubsection{Fail2Ban}

Im Rahmen dieses Projekts wird \nameref{subsec:f2b} so konfiguriert, dass bei mehr als fünf fehlgeschlagenen SSH-Anmeldeversuchen die IP-Adresse des Geräts, von dem aus die Anmeldeversuche unternommen werden, dauerhaft gesperrt wird. Diese Sperre bleibt bestehen, bis der Administrator die IP-Adresse manuell wieder entsperrt. Diese strenge Maßnahme dient dazu, die Zugriffskontrolle auf unseren Raspberry Pi zu verstärken und potenzielle Sicherheitsrisiken zu minimieren.

Die Konfigurationsdatei für Fail2Ban (\texttt{jail.local}) wird wie folgt angepasst:

\begin{verbatim}
	[sshd]
	enabled  = true
	port     = ssh
	logpath  = /var/log/auth.log
	maxretry = 5
	bantime  = -1
\end{verbatim}

Diese Einstellungen sorgen dafür, dass Fail2Ban das SSH-Protokoll überwacht und nach fünf fehlgeschlagenen Versuchen die IP-Adresse dauerhaft sperrt. Der Parameter \texttt{bantime = -1} stellt sicher, dass die Sperre unendlich lang andauert, bis der Administrator eingreift.

Durch die Implementierung von Fail2Ban wird die Sicherheit des Systems erheblich verbessert, da automatisierte Brute-Force-Angriffe effektiv abgewehrt werden können.

\subsubsection{DDclient}

DDclient ist ein Perl-basiertes Programm, das dynamische DNS-Dienste (DDNS) unterstützt. Es wird verwendet, um die IP-Adresse eines Systems bei einem DNS-Dienstanbieter zu aktualisieren, wenn sich die IP-Adresse des Systems ändert. Im Rahmen dieses Projekts wird DDclient auf dem Atomic Pi verwendet, der den MQTT-Dienst betreibt. Dadurch wird sichergestellt, dass das Alarmsystem immer unter einem festen Domainnamen erreichbar ist, auch wenn sich die öffentliche IP-Adresse des Netzwerks ändert.Dies ist besonders wichtig für die ständige Kommunikation und Überwachung des Alarmsystems.


\subsubsection{UFW - Uncomplicated Firewall}

Zur Erhöhung der Sicherheit auf dem Raspberry Pi wird UFW (Uncomplicated Firewall) installiert und konfiguriert. Die folgenden Schritte richten UFW ein und stellen sicher, dass notwendige Dienste erreichbar sind, während andere Verbindungen blockiert werden.

\begin{enumerate}
	\item \textbf{Installation von UFW}
	\begin{verbatim}
		sudo apt-get update
		sudo apt-get install ufw
	\end{verbatim}
	
	\item \textbf{Setzen der Standardregeln}
	\begin{verbatim}
		sudo ufw default deny incoming
		sudo ufw default allow outgoing
	\end{verbatim}
	Die Regel \texttt{deny incoming} bedeutet, dass jeglicher eingehender Netzwerkverkehr standardmäßig blockiert wird, es sei denn, es gibt explizite Regeln, die bestimmte Arten von eingehendem Verkehr erlauben. Diese Regel stellt eine grundlegende Sicherheitsmaßnahme dar, um ungewollten oder schädlichen Datenverkehr abzuwehren.\\
	
	\item \textbf{Erlauben von SSH-Verbindungen}
	\begin{verbatim}
		sudo ufw allow ssh
	\end{verbatim}
	
	\item \textbf{Erlauben von HTTP und HTTPS}
	\begin{verbatim}
		sudo ufw allow http
		sudo ufw allow https
	\end{verbatim}
	
	\item \textbf{Erlauben von Docker-spezifischen Ports}
	\begin{verbatim}
		sudo ufw allow 2375/tcp
		sudo ufw allow 2376/tcp
		sudo ufw allow 2377/tcp
		sudo ufw allow 7946/tcp
		sudo ufw allow 7946/udp
		sudo ufw allow 4789/udp
	\end{verbatim}
	
	\item \textbf{Erlauben von MQTT-Ports}
	\begin{verbatim}
		sudo ufw allow 1883/tcp
		sudo ufw allow 8883/tcp
		sudo ufw allow 8080/tcp
		sudo ufw allow 9001/tcp
	\end{verbatim}
	
	\item \textbf{Erlauben von Netzwerkmanagement-Ports}
	\begin{verbatim}
		sudo ufw allow 53/tcp
		sudo ufw allow 53/udp
		sudo ufw allow 67/udp
		sudo ufw allow 68/udp
	\end{verbatim}
	
	\item \textbf{Aktivierung von UFW}
	\begin{verbatim}
		sudo ufw enable
	\end{verbatim}
	
	\item \textbf{Überprüfen des UFW-Status}
	\begin{verbatim}
		sudo ufw status verbose
	\end{verbatim}
\end{enumerate}

Die Konfiguration von UFW stellt sicher, dass nur autorisierte Verbindungen zu den notwendigen Diensten auf dem Raspberry Pi zugelassen werden, wodurch die Sicherheit des Systems erhöht wird.


\subsection{Einsatz von Docker}

Für alle Komponenten des verteilten Systems kam \nameref{subsec:docker} zum Einsatz. Diese Technologie wurde gewählt, weil Docker Anwendungen in \nameref{subsec:container}  isoliert, die alle notwendigen Abhängigkeiten und Konfigurationen enthalten. Dadurch konnten die Komponenten auf  den verschiedenen Geräten problemlos betrieben und getestet werden \cite{Aerisdocker}.

\subsubsection{Docker Compose}

Zusätzlich wurde Docker Compose verwendet, um mehrere Container als Teil eines einzigen Anwendungsstapels zu verwalten. In einer YAML-Datei (docker-compose.yml) werden alle benötigten Services, Netzwerke und Volumes definiert. Dies ermöglicht es, alle für einen Service erforderlichen Container mit einem einzigen Befehl zu starten, anstatt jeden Container einzeln konfigurieren und starten zu müssen \cite{DockerCompose}.

\subsubsection{Environment-Datei}

Um sicherzustellen, dass keine vertraulichen Informationen fest im Code verankert werden, wird eine Environment-Datei (.env) verwendet. Diese Datei erleichtert die Verwaltung der Umgebungsvariablen, welche von Docker Compose eingelesen und in den Containern verfügbar gemacht werden \cite{DockerEnv}.
